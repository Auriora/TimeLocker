# UC-INT-001: Scripted Backup via CLI

| Field                        | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Use Case ID**              | UC-INT-001                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **Name**                     | Scripted Backup via CLI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **Primary Actors**           | Power User                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **Stakeholders & Interests** | **Power User** – wants to trigger backups programmatically using command-line interface for automation and integration with other tools. <br> **System** – must provide consistent and secure CLI access while maintaining all security controls.                                                                                                                                                                                                                                                                                                                                                                   |
| **Pre-conditions**           | 1. User has installed the Desktop Backup Application with CLI components. <br> 2. User has appropriate permissions to execute backups. <br> 3. At least one repository is configured in the system. <br> 4. User has valid authentication credentials.                                                                                                                                                                                                                                                                                                                                                                  |
| **Post-conditions**          | • Successful: Backup operation completed via CLI; results returned in structured format; audit log `CLI_BACKUP_SUCCESS` recorded. <br> • Failure: Backup operation failed; error details returned in structured format; error logged.                                                                                                                                                                                                                                                                                                                                                                              |
| **Main Flow**                | 1. User opens terminal/command prompt. <br> 2. User executes backup command with required parameters (repository ID, backup set, options). <br> 3. System validates command syntax and parameters. <br> 4. System authenticates user credentials (from secure storage, environment variables, or parameter). <br> 5. System initiates backup operation with specified parameters. <br> 6. System displays real-time progress information in CLI-friendly format. <br> 7. System completes backup operation. <br> 8. System returns structured output with operation results (JSON/XML). <br> 9. System records `CLI_BACKUP_SUCCESS` in audit log. <br> 10. User receives exit code indicating success (0). |
| **Alternative Flows**        | **AF-1 Invalid command syntax** <br> a. System detects invalid parameters or syntax. <br> b. System displays help information with correct usage. <br> c. System returns non-zero exit code. <br><br> **AF-2 Authentication failure** <br> a. System cannot authenticate user. <br> b. System returns authentication error and security guidance. <br> c. System logs failed authentication attempt. <br><br> **AF-3 Backup failure** <br> a. Backup operation fails during execution. <br> b. System returns structured error information with specific failure details. <br> c. System logs error and returns non-zero exit code. <br><br> **AF-4 Silent mode** <br> a. User specifies silent mode operation. <br> b. System suppresses all output except final result. <br> c. System still logs all events normally.                                                      |
| **Special Requirements**     | • CLI must support both interactive and non-interactive (scripted) modes. <br> • All commands must provide consistent exit codes for programmatic detection of success/failure. <br> • Output format must be selectable (plain text, JSON, XML) for integration with other tools. <br> • CLI must support the same security controls as the GUI. <br> • Command help and documentation must be accessible offline.                                                                                                                                                                                                              |
| **Related FRs**              | [FR-INT-001](3-1-8-Integration.md#frInt001), [FR-INT-002](3-1-8-Integration.md#frInt002), [FR-BK-001](3-1-2-Backup-Operations.md#frBk001), [FR-SEC-001](3-1-3-Security.md#frSec001), [FR-MON-001](3-1-6-Monitoring-Reporting.md#frMon001)                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Related NFRs**             | [NFR-SEC-01](3-4-6-Security-Compliance.md#nfrSec01), [NFR-INT-01](3-4-8-Interoperability.md#nfrInt01), [NFR-USE-05](3-4-3-Usability.md#nfrUse05), [NFR-AUD-01](3-4-1-Performance.md#nfrAud01)                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
