# UC-SC-001: Configure Backup Schedule

| Field                        | Description                                                                                                                                                                                                                                                                                                                                                                                                                     |
|------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Use Case ID**              | UC-SC-001                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **Name**                     | Configure Backup Schedule                                                                                                                                                                                                                                                                                                                                                                                                       |
| **Primary Actors**           | Everyday User                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **Stakeholders & Interests** | **User** – wants automated backups without manual effort. <br> **System** – must create reliable, conflict-free schedules and honour retention policies.                                                                                                                                                                                                                                                                                 |
| **Pre-conditions**           | 1. At least one repository is registered and reachable. <br> 2. At least one backup target is defined. <br> 3. User has appropriate permissions to create OS-level scheduler entries (cron, Task Scheduler, launchd).                                                                                                                                                                                                                       |
| **Post-conditions**          | • Successful: Schedule saved to config, OS scheduler entry created/updated, audit log event `SCHEDULE_SET` recorded. <br> • Failure: No schedule saved; user informed of error.                                                                                                                                                                                                                                                       |
| **Main Flow**                | 1. User opens **Settings → Schedule**. <br> 2. System displays existing schedules (if any) and a **New Schedule** button. <br> 3. User selects backup target(s) and chooses frequency (Hourly, Daily, Weekly, Custom cron). <br> 4. User sets start time, retention policy link, and optional bandwidth limits. <br> 5. System validates input (no overlap, valid cron syntax). <br> 6. System writes schedule to `config.db` and registers with system scheduler. <br> 7. System confirms success and shows next run time on dashboard. <br> 8. Audit log entry created. |
| **Alternative Flows**        | **AF-1 Invalid cron expression** <br> a. Validation fails. <br> b. System highlights field and shows inline error. <br><br> **AF-2 Schedule conflict** <br> a. Overlapping schedule detected. <br> b. System prompts user to adjust frequency or allow parallel jobs (Power User only).                                                                                                                                                                   |
| **Special Requirements**     | • Must support cron syntax on Linux/macOS and Task Scheduler XML on Windows ([FR-BK-003](3-1-2-Backup-Operations.md#frBk003)). <br> • Validation feedback ≤ 200 ms ([NFR-PERF-02](3-4-1-Performance.md#nfrPerf02)). <br> • Schedule creation must not require admin privileges on Linux if user crontab is used ([NFR-COMP-01](3-4-8-Interoperability.md#nfrComp01)).                                                                                                                                                                                      |
| **Related FRs**              | [FR-BK-003](3-1-2-Backup-Operations.md#frBk003), [FR-PM-002](3-1-5-Policy-Management.md#frPm002), [FR-MON-001](3-1-6-Monitoring-Reporting.md#frMon001)                                                                                                                                                                                                                                                                                                |
| **Related NFRs**             | [NFR-PERF-02](3-4-1-Performance.md#nfrPerf02), [NFR-USE-02](3-4-3-Usability.md#nfrUse02), [NFR-REL-02](3-4-2-Reliability-Stability.md#nfrRel02)                                                                                                                                                                                                                                                                                                                                                                                             |
