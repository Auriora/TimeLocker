# System Architecture

```
┌─────────────────────────────────────────────────────────────────┐
│                        User Interfaces                          │
│                                                                 │
│  ┌─────────────────┐  ┌────────────────┐  ┌──────────────────┐  │
│  │  Desktop GUI    │  │     CLI        │  │    REST API      │  │
│  └─────────────────┘  └────────────────┘  └──────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                       Core Services Layer                       │
│                                                                 │
│  ┌─────────────────┐  ┌────────────────┐  ┌──────────────────┐  │
│  │ Repository      │  │ Backup         │  │ Recovery         │  │
│  │ Management      │  │ Operations     │  │ Operations       │  │
│  └─────────────────┘  └────────────────┘  └──────────────────┘  │
│                                                                 │
│  ┌─────────────────┐  ┌────────────────┐  ┌──────────────────┐  │
│  │ Policy          │  │ Monitoring &   │  │ Security         │  │
│  │ Management      │  │ Reporting      │  │ Services         │  │
│  └─────────────────┘  └────────────────┘  └──────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    Infrastructure Layer                         │
│                                                                 │
│  ┌─────────────────┐  ┌────────────────┐  ┌──────────────────┐  │
│  │ Restic Engine   │  │ Plugin System  │  │ Error Handling   │  │
│  └─────────────────┘  └────────────────┘  └──────────────────┘  │
│                                                                 │
│  ┌─────────────────┐  ┌────────────────┐  ┌──────────────────┐  │
│  │ Resource        │  │ Audit Logging  │  │ Cross-Platform   │  │
│  │ Management      │  │                │  │ Support          │  │
│  └─────────────────┘  └────────────────┘  └──────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                       Storage Backends                          │
│                                                                 │
│  ┌─────────────────┐  ┌────────────────┐  ┌──────────────────┐  │
│  │   Local Files   │  │  Cloud Storage │  │ Network Storage  │  │
│  │                 │  │  (S3, B2)      │  │ (SFTP, SMB, NFS) │  │
│  └─────────────────┘  └────────────────┘  └──────────────────┘  │
└─────────────────────────────────────────────────────────────────┘
```

This diagram illustrates the layered architecture of TimeLocker, showing how user interfaces interact with core services, which in turn utilize the infrastructure layer to perform operations on various storage backends.